% ----- Combined Entries ----- %
% Argument order: id, acronym, acronym written out, description
% Create both, acronym and glossary entry with linking:
\newcommand{\newglossaryacronym}[4]{
        % \newglossaryentry{#1}{
        %         type=\acronymtype, 
        %         name={#2}, 
        %         description={#3}, 
        %         first={#3~(#2)\glsadd{#1gls}}, 
        %         firstplural={#3\glspluralsuffix~(#2\glspluralsuffix)},
        %         see=[See:]\gls{#1gls}
        % }
        \newacronym{#1acr}{#2}{\acrlong{#1}}
        \newglossaryentry{#1}{
                name={#2 (#3)},
                text={#2},
                % symbol={#2},
                short={#2},
                long={#3},
                first={#3 (#2)},
                firstplural={#3\glspluralsuffix~(#2\glspluralsuffix)},
                description={#4\glsadd{#1acr}}
        }
}
% Alternative: All-in-one Glossary entry (https://tex.stackexchange.com/a/410534/213738)
% \newcommand{\newglossaryacronym}[4]{
%     \newglossaryentry{#1}{
%         text={#2},
%         % short={#2},
%         long={#3},
%         name={\glsentrylong{#1} (\glsentrytext{#1})},
%         first={\glsentryname{#1}},
%         firstplural={\glsentrylong{#1}\glspluralsuffix (\glsentryname{#1}\glspluralsuffix )},
%         description={#4}
%     }
% }


% ----- Nomenclature ----- %

\newglossaryentry{acdipole}{
        name={AC-Dipole},
        text={AC-dipole},
        description={Dipole magnet attached to an AC power source with variable frequency and strength, thus allowing to impose forced oscillations on the \gls{beam}. \todo{See: cref to proper place.}}
}
\newglossaryentry{ampdet}{
        name={amplitude detuning},
        description={Tune change with the transversal amplitude of a particle.\todo{See: cref to proper place.}}
}
\newglossaryentry{beam}{
        name={beam},
        description={Short for "Particle Beam".  The name for the collection of all particles in an accelerator traveling in the same direction. In the \acrfull{LHC} there are two beams (Beam~1 and Beam~2) traversing in opposite directions and colliding at the \glsfirstplural{IP}}
}
\newglossaryentry{beta-beating}{
        name={beta-beating},
        text=\(\beta\)-beating,
        description={Relative difference of the \gls{beta-function} between measurement and model: \((\beta_{\mathrm{measured}} - \beta_{\mathrm{model}}) / \beta_{\mathrm{model}}\)}
}
\newglossaryentry{beta-function}{
        name={beta-function},
        text=\(\beta\)-function,
        description={Value of the \gls{Twiss_parameters} \(\beta\) as a function of longitudinal location. This value is closely related to the amplitude $\mathcal{A}$ of the betatron-oscillations and hence the size of the \gls{beam} at that location via the \gls{action} \glssymbol{action} by \(\mathcal{A} = \sqrt{2J\beta}\)}
}
\newglossaryentry{betatron_coupling}{
        name={betatron coupling},
        description={Coupling between the horizontal and vertical betatron motion of a particle.}
}
\newglossaryentry{bunch}{
        name={bunch},
        description={Short for "Particle Bunch". Due to the \acrshort{RF} acceleration scheme, a continuous \gls{beam} is not possible in a synchrotron and particles become bunched during acceleration}
}
\newglossaryentry{closed_orbit}{
        name={Closed Orbit},
        text={closed orbit},
        description={The orbit of a particle with reference momentum, sometimes also called "reference orbit" or "ideal orbit"}
}
\newglossaryentry{courantsnyderparameter}{
        name={Courant-Snyder Parameters},
        user1={Courant-Snyder},
        description={Set of quantities describing the distribution of positions and momenta of the particles in a \gls{beam}. Also known as \gls{Twiss_parameters}. See also \gls{beta-function}}
}
\newglossaryentry{experiment}{
        name={experiment},
        description={In the context of the \acrfull{LHC}, an "experiment" denotes one of the eight particle physics detector experiments and its accompanying data-collecting research structure. The four largest detectors, \acrshort{ATLAS}, \acrshort{CMS}, \acrshort{ALICE}, \acrshort{LHCb} are located at the four \glsfirstplural{IP} of the \acrshort{LHC}}
}
\newglossaryentry{feed-down}{
        name={feed-down},
        description={Particles passing off-center through a multipole field experience effects akin to the influence of lower-order multipoles due to the orbit offset.}
}
\newglossaryentry{flatorbit}{
        name={flat orbit},
        description={Machine setup without any crossing bumps in the \glsfirstplural{IR}}
}
\newglossaryentry{flatoptics}{
        name={flat optics},
        description={\Gls{optics} in which \glstext{betastar} is different for both planes. Usually much smaller in one than in the other. See also: \glstext{roundoptics}}
}
\newglossaryentry{hadron}{
        name={hadron},
        description={Composite subatomic particles consisting of two or more quarks, held together by strong interactions}
}
\newglossaryentry{longshutdown}{
        name={long shutdown},
        description={Planned shutdown periods of the \acrfull{LHC} between \glspl{run} spanning multiple years, as opposed to the \acrfull{YETS}, which only lasts a few months. This time is used for repairs and upgrades of the machine, as well as general maintenance}
}
\newglossaryentry{luminosity}{
        name={luminosity},
        description={Is the ratio of the number of events, i.e. collisions, detected per cross section, either per time interval ("instantaneous luminosity") or in total ("integrated luminosity", e.g. since the beginning of a year, a \gls{run} or of operation)}
}
\newglossaryentry{madx}{
        name={MAD-X},
        text={\texttt{MAD-X}},
        description={Current version of the \acrfull{MAD} framework developed in \acrshort{BE}-\acrshort{ABP} at \acrshort{CERN}}
}
\newglossaryentry{normal}{
        name={normal magnets},
        text=normal,
        description={Magnet with a ``normal'' oriented multipole field with pole-tips off the horizontal axis. Opposed to a ``\gls{skew}'' magnet of the same order $n$, for which the field is rotated by }%$\sfrac{\pi}{(2n)}$\,\si{\radian}}
}
\newglossaryentry{omc3}{
        name={omc3},
        text={\texttt{omc3}},
        user1={\glstext{\glslabel}~\cite{CODE:OMC:omc3}},
        user2={\glstext{\glslabel}-package~\cite{CODE:OMC:omc3}},
        description={Python package maintained and applied by the \glsfirst{OMC}-Team to analyse measurements from different accelerators and calculate corrections. See~\cite{CODE:OMC:omc3}}
}
\newglossaryentry{optics}{
        name={optics},
        description={Here ``optics'' refers to ``accelerator \gls{beam} optics'', describing the particle motion through an accelerator as defined by the elements (i.e. magnets) of the machine. As the behaviour of a particle \gls{beam} in magnetic fields shows  similarities to a light beam propagating through lenses and can BE described with similar equations, a lot of theory and nomenclature has been borrowed from ray optics}
}
\newglossaryentry{roundoptics}{
        name={round optics},
        description={\Gls{optics} in which \glstext{betastar} is identical for both planes. See also: \glstext{flatoptics}} 
}
\newglossaryentry{run}{
        name={run},
        description={Consecutive years of \acrshort{LHC}-operation, separated by long shutdowns. Run~1 has been from 2008-2013, run~2 from 2015-2018 and run~3 started in 2022}
}
\newglossaryentry{skew}{
        name={skew magnets},
        text=skew,
        description={Magnet with a ``skew'' oriented multipole field, with pole-tips on the horizontal axis. Opposed to a ``\gls{normal}'' magnet of the same order $n$, for which the field is rotated by }%$\sfrac{-\pi}{(2n)}$\,\si{\radian}}
}
\newglossaryentry{synchronous}{
        name={synchronous particle},
        text={synchronous},
        description={Refers to the ideal particle that defines the reference trajectory in a circular accelerator}
}
\newglossaryentry{triplet}{
        name={triplet},
        description={Name for the final focusing quadrupoles in the \glsfirst{IR} left and right of an \glsfirst{IP}. In principle these consist of three magnets Q1--3 (starting with Q1 closest to the \acrshort{IP}), where Q1 and Q3 have the same orientation (e.g. focusing) and are opposite to Q2 (e.g. defocusing), depending on \gls{beam}, plane and side. In the \acrfull{LHC} Q2 is split into two magnets, while in the \acrfull{HL-LHC} also Q1 and Q3 will each BE split in two}
}
\newglossaryentry{tune}{
        name={tune},
        description={Number of betatron oscillations per turn in a circular accelerator. See also: \gls{beta-function}}
}
\newglossaryentry{Twiss_parameters}{
        name={Twiss Parameters},
        text={Twiss parameters},
        description={See \gls{courantsnyderparameter}}
}


% ----- Acronyms ----- %

\newacronym{ABP}{ABP}{Accelerator and Beam Physics group at \acrshort{CERN}}
\newacronym{BBQ}{BBQ}{Base Band Tune}
\newacronym{BCTFR}{BCTFR}{Fast Beam Current Transformer}
\newacronym{BE}{BE}{Beam Department}
\newacronym{BLM}{BLM}{Beam Loss Monitor}
\newacronym{BPM}{BPM}{Beam Position Monitor}
\newacronym{CCC}{CCC}{CERN Control Center}
\newacronym{CDT}{CDT}{Center for Doctoral Training}
\newacronym{CERN}{CERN}{Conseil Européen pour la Recherche Nucléaire, the European Organization for Nuclear Research}
% \newacronym{DA}{DA}{Dynamic Aperture}
\newacronym{FCC}{FCC}{Future Circular Collider}
% \newacronym{FiDeL}{FiDeL}{Field Model of the \acrshort{LHC}}
\newacronym{HEP}{HEP}{High Energy Physics}
\newacronym{HL-LHC}{HL-LHC}{High-Luminosity Large Hadron Collider}
\newacronym{IPAC}{IPAC}{International Particle Accelerator Conference}
\newacronym{LHC}{LHC}{Large Hadron Collider}
\newacronym{LINAC}{LINAC}{Linear Accelerator}
\newacronym{LIV.DAT}{LIV.DAT}{Liverpool Big Data Science Center for Doctoral Training}
\newacronym{LMC}{LMC}{LHC Machine Committee}
\newacronym{LNO}{LNO}{Linear and Nonlinear Optics section}
\newacronym{MAD}{MAD}{Methodical Accelerator Design}%~\cite{CODE:MADX_guide}}
\newacronym{OMC}{OMC}{Optics Measurements and Corrections}
\newacronym{PRAB}{PRAB}{Physical Review Accelerators and Beams}
\newacronym{PS}{PS}{Proton Synchrotron}
\newacronym{PSB}{PSB}{PS Booster}
\newacronym{PTC}{PTC}{Polymorphic Tracking Code}%~\cite{CODE:Schmidt_Forest:PTC}}
\newacronym{SPS}{SPS}{Super Proton Synchrotron}
\newacronym{RDT}{RDT}{Resonance Driving Term}
% \newacronym{RHIC}{RHIC}{Relativistic Heavy Ion Collider}
\newacronym{SVD}{SVD}{Singular Value Decomposition}
% \newacronym{WISE}{WISE}{Windows Interface to Simulation Errors}
\newacronym{YETS}{YETS}{Year-End Technical Stop}


% ----- Detailed Acronyms ----- %
% TODO: Convert these to either acronyms or glossary entries because they don't support
% to be called as a plural form and just show up as a whitespace (ofr instance \acrshortpl{IR})
\newglossaryacronym{ALICE}{ALICE}{A Large Ion Collider Experiment}{
    An \glstext{experiment} optimized to study heavy-ion collisions.
}
\newglossaryacronym{ATLAS}{ATLAS}{A Toroidal LHC Apparatus}{
    One of two general purpose detectors at the \acrfull{LHC}. It investigates a wide range of physics, from the search for the Higgs boson to extra dimensions and particles that could make up dark matter. Although it has the same scientific goals as the \acrshort{CMS} \glstext{experiment}, it uses different technical solutions and a different magnet-system design.
}
\newglossaryacronym{CMS}{CMS}{Compact Muon Solenoid}{
    One of two general purpose detectors at the \acrfull{LHC}. It has a broad physics programme ranging from studying the Standard Model (including the Higgs boson) to searching for extra dimensions and particles that could make up dark matter. Although it has the same scientific goals as the \acrshort{ATLAS} \glstext{experiment}, it uses different technical solutions and a different magnet-system design.
}
\newglossaryacronym{IP}{IP}{Interaction Point}{
    The specific point at which the two counter-rotating \glspl{beam} interact, i.e. their particles collide. In the \acrfull{LHC} these are located in the center of \glsfirstplural{IR} \numlist{1;2;5;8} inside the detectors ("\glspl{experiment}")
}
\newglossaryacronym{IR}{IR}{Insertion Region}{
    Straight section between the arcs of a synchrotron, housing larger facilities, such as detectors ("\glspl{experiment}"), acceleration ("\acrshort{RF}"), etc
}
\newglossaryacronym{LHCb}{LHCb}{LHC-beauty}{
    A specialized b-physics \glstext{experiment}, designed primarily to measure the parameters of CP violation in the interactions of b-\glspl{hadron} (heavy particles containing a bottom quark).
}
\newglossaryacronym{MD}{MD}{Machine Development}{
    Studies dedicated to improving the machine, e.g. by trying to reveal error-sources or attempting their correction, or testing possible future procedures and machine configurations. As they usually involve \gls{beam}-time, i.e. measurements in the \glsfirst{CCC}, a proposal needs to BE written, and they need to BE approved by the \acrfull{LMC}.
}
\newglossaryacronym{RF}{RF}{Radio Frequency}{
    Short for the acceleration part of a synchrotron, as the frequency of the accelerating electric field is usually in the radio-frequency range (at the \acrshort{LHC} \(\approx\) \qty{400}{\mega\hertz})
}
\newglossaryacronym{RWS}{RWS}{Rigid Waist Shift}{
    A specific perturbation of the optics in an \acrfull{IR} that moves all four betatron waists of the beam simultaneously. See \cref{section:rigid_waist_shift_for_local_coupling_correction}
}

% ----- Symbols ----- %

\newglossaryentry{action}{
    type=\symboltype,
    sort={action},
    name={\(\mathbf{ J }\)},
    text={action},
    symbol={\(J\)},
    description={\Glstext*{action}. One of the phase-space coordinates in the Courant-Snyder normalization and closely related to the invariant of (linear) motion \(\varepsilon = 2J\). Usually subscripted with \(x\) or \(y\) giving the transversal plane. Unit: \unit{\meter}}
}
\newglossaryentry{beam-rigidity}{
    type=\symboltype,
    sort={beam-rigidity},
    name={\(\mathbf{ B \rho }\)},
    text={magnetic rigidity},
    symbol={\ensuremath{\mathrm{B}\rho}},
    description={\Glstext*{beam-rigidity}.
    Used as a normalization factor for \glstext{K} and \glstext{J}. Unit: \unit{\tesla}}
}
\newglossaryentry{betastar}{
    type=\symboltype,
    sort={beta},
    name={\(\mathbf{ \beta^{\ast} }\)},
    text={\(\beta^{\ast}\)},
    symbol={\(\beta^{\ast}\)},
    description={The \gls{beta-function} at the \acrshort{IP}. Usually subscripted with $x$ or $y$ giving the transversal plane. Unit: \unit{\meter}},
}
\newglossaryentry{Cminus}{
    type=\symboltype,
    sort={cminus},
    name={\(\mathbf{ \left| C^{-} \right|}\)},
    text={closest tune approach},
    symbol={\(\left| C^{-} \right|\)},
    description={The minimum tune separation. It is a quantification of the amount of global linear coupling in the machine}
}
\newglossaryentry{J}{
    type=\symboltype,
    sort={strengthJ},
    name={\(\mathbf{ J_n }\)},
    text={skew magnetic field strength},
    symbol={\ensuremath{J}},
    description={\Glstext*{J}. Skew field component normalized to the \glstext{beam-rigidity}. Usually subscripted with an integer \(n\) giving the field order. Unit: \unit{\pernth\meter}}
}
\newglossaryentry{K}{
    type=\symboltype,
    sort={strengthK},
    name={\(\mathbf{ K_n }\)},
    text={normal magnetic field strength},
    symbol={\ensuremath{K}},
    description={\Glstext*{K}. Normal field component normalized to the \glstext{beam-rigidity}. Usually subscripted with an integer \(n\) giving the field order. Unit: \unit{\pernth\meter}}
}


\glsenableentrycount                             % Enable ref counting when displaying, adds some compile time to the document
